package edu.hw6;

import edu.hw6.task5.HackerNews;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import java.io.IOException;
import static org.assertj.core.api.Assertions.assertThat;
import static org.junit.jupiter.api.Assertions.assertEquals;

@SuppressWarnings("MagicNumber")
class Task5Test {
    @Test
    @DisplayName("Test find IDs")
    void findIDs() throws IOException, InterruptedException {
        // given and when
        long[] ids = HackerNews.hackerNewsTopStories();
        long[] expected = getExpectedArray();

        // then
        assertThat(ids.length).isEqualTo(expected.length);
    }

    @Test
    @DisplayName("Test find title")
    void findTitle() throws IOException, InterruptedException {
        // given
        String expected = "JDK 21 Release Notes";

        // when
        String title = HackerNews.newsTitle(37570037);

        // then
        assertThat(title).isEqualTo(expected);
    }

    private long[] getExpectedArray() {
        return new long[] {38376919, 38387464, 38389386, 38391252, 38344444, 38384952, 38387775, 38381573, 38391138,
            38390052, 38386487, 38375239, 38387217, 38375310, 38390018, 38376507, 38363394, 38382225, 38375273,
            38388669, 38385419, 38387249, 38387554, 38388842, 38387620, 38389958, 38378216, 38383138, 38378498,
            38380137, 38364084, 38389508, 38386547, 38381795, 38383646, 38372936, 38378992, 38383696, 38390266,
            38390405, 38391309, 38390000, 38388754, 38387874, 38388608, 38383099, 38382067, 38370799, 38371808,
            38356702, 38364179, 38383635, 38372029, 38377789, 38354753, 38377072, 38388456, 38361094, 38372687,
            38379397, 38379893, 38368287, 38386646, 38379168, 38377263, 38380344, 38364489, 38371361, 38365638,
            38387797, 38346794, 38386098, 38353473, 38378261, 38361139, 38352484, 38378776, 38379456, 38388982,
            38379543, 38380056, 38361735, 38387869, 38366830, 38360148, 38376885, 38379916, 38376731, 38373586,
            38362363, 38351797, 38388400, 38356534, 38380093, 38362541, 38354939, 38387214, 38359863, 38388465,
            38380377, 38376844, 38381066, 38372344, 38368073, 38378595, 38382956, 38382481, 38373191, 38360582,
            38386648, 38376589, 38385221, 38375728, 38377779, 38386912, 38357205, 38346903, 38370872, 38380240,
            38386096, 38378483, 38368570, 38342670, 38386331, 38383831, 38380511, 38358821, 38369433, 38347771,
            38376784, 38357226, 38343748, 38362348, 38343398, 38360827, 38384587, 38364262, 38381918, 38335255,
            38360927, 38362271, 38366536, 38370252, 38366729, 38361053, 38388533, 38362242, 38389618, 38378874,
            38354422, 38386155, 38361049, 38357191, 38383967, 38353285, 38367334, 38387743, 38354788, 38360776,
            38362874, 38341399, 38362762, 38366295, 38368760, 38374711, 38378555, 38374588, 38370203, 38363698,
            38388808, 38385289, 38368272, 38365934, 38344358, 38361259, 38361218, 38385013, 38371126, 38361888,
            38371307, 38378455, 38349716, 38363687, 38378481, 38343385, 38357167, 38362652, 38363602, 38368000,
            38344213, 38372451, 38387484, 38382485, 38338635, 38357736, 38382811, 38360128, 38364197, 38343933,
            38385976, 38382907, 38382892, 38385895, 38389001, 38381691, 38369384, 38358032, 38361290, 38381245,
            38388092, 38386692, 38390153, 38343957, 38383759, 38370210, 38384200, 38387816, 38360135, 38385202,
            38373247, 38368063, 38344973, 38361722, 38361082, 38373709, 38360162, 38387652, 38388617, 38385179,
            38384434, 38374322, 38373297, 38342642, 38389967, 38364315, 38377307, 38351194, 38389746, 38351195,
            38366485, 38353763, 38338033, 38377027, 38363449, 38374627, 38368964, 38368791, 38346869, 38364933,
            38363133, 38367277, 38389980, 38354254, 38386556, 38357137, 38353903, 38345017, 38384828, 38365892,
            38361758, 38389094, 38351048, 38355503, 38370480, 38384234, 38384173, 38375177, 38380311, 38372285,
            38372870, 38343510, 38377826, 38371913, 38367430, 38381901, 38367514, 38363158, 38352891, 38345053,
            38365714, 38381272, 38356361, 38351497, 38365707, 38353146, 38367873, 38359269, 38360260, 38356768,
            38371213, 38388788, 38368773, 38361135, 38337784, 38343359, 38344196, 38343484, 38372972, 38371218,
            38377860, 38360709, 38341708, 38370503, 38383604, 38351212, 38354918, 38366719, 38372152, 38340875,
            38350341, 38361444, 38336912, 38382975, 38354700, 38362457, 38369880, 38365540, 38345737, 38377762,
            38351370, 38345858, 38370563, 38370429, 38347555, 38376887, 38370028, 38353525, 38374624, 38382795,
            38368767, 38347868, 38340188, 38386013, 38378399, 38361420, 38382361, 38379463, 38373400, 38366336,
            38375092, 38350910, 38365981, 38336688, 38359089, 38374181, 38353729, 38376073, 38349234, 38345843,
            38360005, 38371115, 38334784, 38366982, 38339092, 38361089, 38342208, 38346862, 38384950, 38366864,
            38366312, 38337001, 38365955, 38369806, 38356781, 38378119, 38347501, 38381894, 38384749, 38371967,
            38369717, 38376538, 38353940, 38385090, 38379873, 38361008, 38362506, 38369419, 38353880, 38340226,
            38377720, 38367884, 38369938, 38376904, 38379246, 38356742, 38363562, 38341035, 38339159, 38360520,
            38375494, 38378798, 38371480, 38368429, 38356897, 38366801, 38361247, 38360111, 38339715, 38356216,
            38375114, 38378891, 38378410, 38376163, 38352180, 38370030, 38364830, 38387131, 38379803, 38378098,
            38369679, 38369512, 38354280, 38366820, 38359814, 38382489, 38377923, 38374607, 38384849, 38348968,
            38373608, 38344822, 38334722, 38370962, 38355232, 38367693, 38360304, 38370176, 38358913, 38338928,
            38373858, 38370037, 38348556, 38377210, 38371169, 38365858, 38359523, 38369820, 38374562, 38352028,
            38374533, 38337989, 38341466, 38357229, 38361208, 38348244, 38366329, 38374180, 38367751, 38350746,
            38371147, 38364181, 38374029, 38367362, 38346334, 38376375, 38354887, 38334538, 38366335, 38356537,
            38345189, 38340431, 38345071, 38365900, 38360000, 38344733, 38365656, 38338220, 38337568, 38375678,
            38365209, 38375511, 38337765, 38348671, 38375382, 38374196, 38372455, 38338037, 38380544, 38343116,
            38374980, 38359799, 38368703, 38360933, 38342643, 38382737, 38346527, 38365909, 38365869, 38345162,
            38370596, 38356822, 38356631, 38356485, 38338991, 38359970, 38369509, 38365023, 38369463, 38357629,
            38369414};
    }
}
